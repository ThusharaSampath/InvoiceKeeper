package test;


import java.lang.reflect.Array;
import java.sql.Connection;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.Arrays;
import java.util.List;
import java.util.Map;

import dataSource.DatabaseConnect;
import utilities.DataUtilities;
import utilities.utils;

public class Test {

	public static void main(String[] args) throws SQLException {
		// TODO Auto-generated method stub


		Connection conn = null;
		conn = DatabaseConnect.dbConnector();
		Statement stmt1 = null;
		try {
			Map<String, List<Object>> cheque = DataUtilities.getChequeDetails(chequeNo);
			String OldInvoiceNos = (String) cheque.get("InoviceNo").get(0);
			// String OldDealers = (String) cheque.get("DealerName").get(0);
			String newChequeNO = utils.deleteSelected(OldInvoiceNos, chequeNo);
			String sql = "UPDATE `cheque` SET `InvoiceNo`='" + newChequeNO + "' WHERE `ChequeNo`='"
					+ chequeNo + "'";

			stmt1 = conn.createStatement();
			stmt1.executeUpdate(sql);
		} catch (Exception e) {
			System.out.println("Error at DATADELETE CHEQUE");
			e.printStackTrace();
		} finally {
			try {
				if (stmt1 != null) {
					stmt1.close();
				}
				if (conn != null) {
					conn.close();
				}
				;

			} catch (Exception e) {
				e.printStackTrace();
			}
		
		
		//System.out.println(DataUtilities.getInvoiceDetails("gjgh", "545").getString("InvoiceNo"));
		
//		ResultSet rs = DataUpdate.btnupdateStart_invoice("janet", "646");
//		//System.out.println(rs.next());
//		
//		UPDATE cheque
//		SET `InvoiceNo` = REPLACE(`InvoiceNo`,'2000','') 
//		WHERE  `InvoiceNo` like '%2000%' AND `ChequeNo` = '2010';
		
//		System.out.println(DataUtilities.getSplited(","
//				+ "456,,6595,,5265").toString());
		//System.out.println(utils.trim("456,,6595,,5265", ","));

		
		//DataUtilities.isInvoiceExist(dealerName, invoiceNo)
///*		try {
//			// Connection conn = null;
//			Class.forName("com.mysql.jdbc.Driver");
//			Connection conn = DriverManager.getConnection("jdbc:mysql://remotemysql.com:3306/rZMON02UdD", "rZMON02UdD",
//					"MwyFAZB81a");
//			JOptionPane.showMessageDialog(null, "successfully connected");
//			// Connection conn=DriverManager.getConnection("jdbc:mysql:E://my
//			// projects//InvoiZ//InvoiZ//Resourse//invoiz.sql","thushara","123qwe");
//			// JOptionPane.showMessageDialog(null,"Connection Successful");
//			String sql = "INSERT INTO `dealer` (`DealerId`, `DealerName`, `DealerTel`, `DealerPeriod`, `DealerCode`) VALUES (NULL, 'jhahna', '546165', '45', 'jsda');";
//			Statement stmt = null;
//			stmt = conn.createStatement();
//			stmt.executeUpdate(sql);
//			JOptionPane.showMessageDialog(null, "successfully inserted");
//
//			
//		} catch (Exception e) {
//			JOptionPane.showMessageDialog(null, e);
//			JOptionPane.showMessageDialog(null,
//					"Oops, something went wrong while Connecting to Database Please check Xampp is running!");
//
//		}
//
//	}*/
}
}